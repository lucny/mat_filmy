<!-- Dědí základní šablonu base.html -->
{% extends "base.html" %}

<!-- Vložení informace do bloku titulu stránky -->
{% block title %}Detail: {{ film.title }}{% endblock %}

<!-- Obsahový blok stránky -->
{% block content %}
<div class="row mb-3">
    <div class="col-sm-12">
        <!-- Zobrazí titul a rok uvedení filmu -->
        <h2 class="display-4 text-center text-success"><b>{{ film.title }}</b> ({{ film.release_date.year }})</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="row">
            <div class="col-12 bg-dark p-2">
                <h3 class="text-light text-center">Základní informace</h3>
            </div>
            <div class="col-md-4 pt-3">
                <!-- Jestliže existuje plakát k filmu -->
                {% if film.poster %}
                <!-- Zobrazení obrázku plakátu k filmu -->
                <p><img class="img-fluid rounded" src="{{ film.poster.url }}" alt="{{ film.title }}"></p>
                {% endif %}
                <!-- Zobrazení informací o délce filmu a o hodnocení -->
                <p>Délka: <b class="badge-pill badge-dark">{{ film.runtime }} min.</b></p>
                <p>Hodnocení: <b class="badge-pill badge-dark">{{ film.rate }}</b></p>
                <p>
                    <!-- Výpis všech žánrů daného filmu -->
                    {% for genre in film.genres.all %}
                    <a href="{% url 'film_genre' genre.name %}" class="btn btn-light">{{ genre.name }}</a>
                    {% endfor %}
                </p>
            </div>
            <div class="col-md-8 pt-3">
                <!-- Stručný popis děje -->
                <p class="text-small">{{ film.plot }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-6 bg-light">
        <div class="row">
            <div class="col-12 bg-secondary p-2">
                <h3 class="text-light text-center">Fotogalerie</h3>
            </div>
            <!-- Procházení všech příloh, které jsou spojeny s daným filmem -->
            {% for attachment in film.attachment_set.all %}
                <!-- Jestliže jde o typ obrazové přílohy -->
                {% if attachment.type == 'image' %}
                <div class="col-md-6 pt-3">
                    <!-- Zobrazí se fotka v galerii -->
                    <img class="img-fluid img-thumbnail" src="{{ attachment.file.url }}" alt="{{ attachment.title }}">
                    <!-- Pod fotkou bude uveden titulek, který příloha obsahuje -->
                    <p class="text-small">{{ attachment.title }}</p>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}